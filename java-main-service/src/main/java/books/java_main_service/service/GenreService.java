package books.java_main_service.service;import books.java_main_service.model.Genre;import books.java_main_service.repository.GenreRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import javax.annotation.PostConstruct;import java.util.ArrayList;import java.util.List;@Servicepublic class GenreService {    private final GenreRepository genreRepository;    @Autowired    public GenreService(GenreRepository genreRepository) {        this.genreRepository = genreRepository;    }    @PostConstruct    public void initializeGenres() {        if (genreRepository.count() == 0) {            String mainGenres =                    "Фэнтези,Научная фантастика,Детектив,Роман,Историческая проза,Приключения,Триллер,Ужасы,Драма,Комедия,Поэзия,Биография,Научно-популярная литература,Философия,Психология,Бизнес-литература,Детская литература,Классика,Мемуары,Фольклор,Сказка,Эпос,Современная проза,Мистика,Антиутопия,Утопия,Сатира,Басня,Документальная проза";            String otherGenres =                    "Эссе,Любовный роман,Городское фэнтези,Киберпанк,Стимпанк,Постапокалипсис,Альтернативная история,Вестерн,Боевик,Юридический триллер,Медицинский триллер,Военная проза,Шпионский роман,Политический триллер,Магический реализм,Хоррор,Готическая литература,Криминальная проза,Спортивная литература,Путевые заметки,Приключенческая фантастика,Космическая опера,Техно-триллер,Героическое фэнтези,Тёмное фэнтези,Артуриана,Славянское фэнтези,Восточное фэнтези,Мифологическая проза,Сказочное фэнтези,Паранормальный роман,Психологический триллер,Семейная сага,Литература абсурда,Сюрреализм,Модернизм,Постмодернизм,Реализм,Натурализм,Экспериментальная проза,Исторический детектив,Исторический роман,Религиозная литература,Духовная литература,Самопомощь,Учебная литература,Справочная литература,Графический роман,Манга,Новелла,Рассказ,Повесть,Ранобэ,Документальный роман,Эротическая литература,Пьеса,Афоризмы,Притча,Автобиография,Женская проза,Социальная фантастика,Твёрдая научная фантастика,Фантастический боевик,Эпическое фэнтези,Дневник,Публицистика,Романтический триллер,ЛитРПГ,Морская проза,Гастрономический очерк,Космофэнтези,Философская драма,Постироническая проза,Музыкальная журналистика,Скандинавский детектив,Кельтская фантастика,Авангардизм,Плетёный детектив,Городской реализм,Экзистенциальная фантастика,Полифонический роман,Сатирическая фантастика,Лунная проза,Географический очерк,Колониальная проза,Журналистское расследование,АнтологияShortStories,Дорожное фэнтези,Контркультурная проза,Панк-фикшен,Геополитический триллер,Словарь,Энциклопедия,Дилогия,Трилогия,Квартет,Сага,Альманах,Некрореализм,Медитативная проза,Трансгуманистическая фантастика,Эйфорическое фэнтези,Анималистическая проза,Машинный киберпанк,Игровой роман,Айтишная сатира,Урбанистика,Трансцендентальная проза,Футуристическая новелла";            List<Genre> defaultGenres = new ArrayList<>();            for (String name : mainGenres.split(",")) {                Genre g = createGenre(name.trim());                g.setMain(true);                defaultGenres.add(g);            }            for (String name : otherGenres.split(",")) {                Genre g = createGenre(name.trim());                defaultGenres.add(g);            }            genreRepository.saveAll(defaultGenres);        }    }    private Genre createGenre(String name) {        Genre genre = new Genre();        genre.setName(name);        return genre;    }    public List<Genre> getAllGenres() {        return genreRepository.findAll();    }    public List<Genre> getMainGenres() {        return genreRepository.findByIsMainTrue();    }    public List<Genre> findByNameContaining(String query) {        return genreRepository.findByNameContainingIgnoreCase(query);    }}