package books.java_main_service.controller;import books.java_main_service.model.Deal;import books.java_main_service.service.DealService;import io.swagger.v3.oas.annotations.Parameter;import org.springframework.web.bind.annotation.RestController;import io.swagger.v3.oas.annotations.Operation;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.HttpStatus;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.*;import java.util.List;@RestController@RequestMapping("/deals")public class DealController {    private final DealService dealService;    @Autowired    public DealController(DealService dealService) {        this.dealService = dealService;    }    @PostMapping("/propose")    @Operation(summary = "Предложить обмен книгами")    public ResponseEntity<Deal> proposeDeal(            @RequestParam Long initiatorItemId,            @RequestParam Long receiverItemId,            @Parameter(hidden = true) @RequestHeader("Authorization") String accessToken) {        Deal deal = dealService.proposeDeal(initiatorItemId, receiverItemId, accessToken);        return ResponseEntity.status(HttpStatus.CREATED).body(deal);    }    @PutMapping("/{dealId}/accept")    @Operation(summary = "Принять предложение обмена")    public ResponseEntity<Deal> acceptDeal(            @PathVariable Long dealId,            @Parameter(hidden = true) @RequestHeader("Authorization") String accessToken) {        Deal deal = dealService.acceptDeal(dealId, accessToken);        return ResponseEntity.ok(deal);    }    @PutMapping("/{dealId}/complete")    @Operation(summary = "Завершить обмен")    public ResponseEntity<Deal> completeDeal(            @PathVariable Long dealId,            @Parameter(hidden = true) @RequestHeader("Authorization") String accessToken) {        Deal deal = dealService.completeDeal(dealId, accessToken);        return ResponseEntity.ok(deal);    }    @PutMapping("/{dealId}/cancel")    @Operation(summary = "Отменить обмен")    public ResponseEntity<Deal> cancelDeal(            @PathVariable Long dealId,            @Parameter(hidden = true) @RequestHeader("Authorization") String accessToken) {        Deal deal = dealService.cancelDeal(dealId, accessToken);        return ResponseEntity.ok(deal);    }    @GetMapping("/user")    @Operation(summary = "Получить все сделки пользователя")    public ResponseEntity<List<Deal>> getUserDeals(            @Parameter(hidden = true) @RequestHeader("Authorization") String accessToken) {        List<Deal> deals = dealService.getUserDeals(accessToken);        return ResponseEntity.ok(deals);    }}